MACRO(CHECK_COMPILE RESULT_VAR SOURCE_FILE DESCRIPTION)
	SET(SAVED_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${SDL2PP_WERROR_FLAG}")
	TRY_COMPILE(RESULT_VAR ${CMAKE_BINARY_DIR} ${SOURCE_FILE})
	IF(RESULT_VAR)
		MESSAGE(STATUS "${DESCRIPTION}: yes")
	ELSE(RESULT_VAR)
		MESSAGE(STATUS "${DESCRIPTION}: no")
	ENDIF(RESULT_VAR)
	SET(CMAKE_CXX_FLAGS "${SAVED_CXX_FLAGS}")
ENDMACRO(CHECK_COMPILE)
