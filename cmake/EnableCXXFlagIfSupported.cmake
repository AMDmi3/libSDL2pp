INCLUDE(CheckCXXCompilerFlag)

MACRO(ENABLE_CXX_FLAG_IF_SUPPORTED FLAG)
	UNSET(HAS_FLAG CACHE)
	SET(CMAKE_REQUIRED_QUIET YES)
	CHECK_CXX_COMPILER_FLAG(${FLAG} HAS_FLAG)
	SET(CMAKE_REQUIRED_QUIET NO)
	IF(HAS_FLAG)
		SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${FLAG}")
		MESSAGE(STATUS "Checking for ${FLAG}: yes")
	ELSE(HAS_FLAG)
		MESSAGE(STATUS "Checking for ${FLAG}: no")
	ENDIF(HAS_FLAG)
ENDMACRO(ENABLE_CXX_FLAG_IF_SUPPORTED)
